
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>用户注册页面</title>
<link href="/GSCManager/resources/css/goldcow-all.css" rel="stylesheet"
	type="text/css" />
<link href="/GSCManager/resources/css/icon.css" rel="stylesheet"
	type="text/css" />
<script src="/GSCManager/resources/js/goldcow-all.js" type="text/javascript"></script>
<script type="text/javascript">

	function doregsist() {
		var username = $("#username").val();
		var password = $("#password").val();
		var pwd = $("#pwd").val();
		var phone = $("#phone").val();
		var email = $("#email").val();
		var user = $("#user").val();
		var idcard=$("#idcard").val();
		var paypassword=$("#paypassword").val();
		var paypwd=$("#paypwd").val();
		if(username==""){
			alert("用户名能为空");
			return;
		}
		if(user==""){
			alert("请填写您的真实姓名");
			return
		}
		if(idcard==""){
			alert("请填写您的身份证");
			return;
		}
		if(paypassword==""){
			alert("请填写您的支付密码");
            return;
			
		}
	if(idcard==""){
			alert("请填写身份证号");
			return;
		}

		if (password!=pwd) {
			alert("两次密码不相同");
			return;
		} 
		if(paypassword!=paypwd){
			alert("两次支付密码不相同");
			return;
		}
	
	if(idcard.length!=18){
		alert("身份证填写失败请输入18位以上的身份证号");
		return;
	}

	if(email.indexOf("@")==-1){
		alert("E-mail填写错误");
		return;
	}
		var url = globalUtil.getTimestampUrl("/regsist/regsistinsert");
		$.post(url, {
			"user_code" : username,
			"user_password" : password,
			"user_realname" : user,
			"idCard":idcard,
			"accessPassword":paypassword,
			"phone" : phone,
			"email" : email
		}, function(data) {
			if (data == "success") {
				alert("添加成功");
			}else if (data == "err") {
				alert("添加失败");
			}else if(data=="ok"){
				alert("用户名重复>.<");
			}else if(data=="errpe"){
				alert("用户名和密码必须填写一个");
			}else{
				alert("未知问题请联系管理员");
			}
		});
	}
	function clea() {
		$("#clear").form('clear');
	}
	function checkuser() {
		
	}
	
</script>
</head>
<body>
	<form id="clear">
		<div align="center" id="userfrom">
			<table>
				<tr>
					<td>用户名：</td>
					<td><input type="text" id="username" onblur=""></td>
				</tr>
				<tr>
					<td>密&nbsp;&nbsp;码：</td>
					<td><input type="password" id="password"></td>
				</tr>
				<tr>
					<td>确认密码：</td>
					<td><input type="password" id="pwd"></td>
				</tr>
				<tr>
					<td>真实姓名：</td>
					<td><input type="text" id="user"></td>
				</tr>
				<tr>
					<td>身份证：</td>
					<td><input type="text" id="idcard"></td>
				</tr>
				<tr>
					<td>支付密码：</td>
					<td><input type="password" id="paypassword"></td>
				</tr>
				<tr>
					<td>确认支付密码：</td>
					<td><input type="password" id="paypwd"></td>
				</tr>
				<tr>
					<td>用户手机号：</td>
					<td><input type="text" id="phone"></td>
				</tr>
				<tr>
					<td>用户邮箱：</td>
					<td><input type="text" id="email"></td>
				</tr>
			</table>
			<table>
				<tr>
					<td><input type="button" value="提交" onclick="doregsist()"></td>
					<td><input type="button" value="取消" onclick="clea()"></td>
				</tr>
			</table>
		</div>
	</form>
</body>
</html>